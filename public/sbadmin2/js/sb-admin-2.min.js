/*!
 * Start Bootstrap - SB Admin 2 v4.0.7 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

!function(t){"use strict";t("#sidebarToggle, #sidebarToggleTop").on("click",function(o){t("body").toggleClass("sidebar-toggled"),t(".sidebar").toggleClass("toggled"),t(".sidebar").hasClass("toggled")&&t(".sidebar .collapse").collapse("hide")}),t(window).resize(function(){t(window).width()<768&&t(".sidebar .collapse").collapse("hide")}),t("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(o){if(768<t(window).width()){var e=o.originalEvent,l=e.wheelDelta||-e.detail;this.scrollTop+=30*(l<0?1:-1),o.preventDefault()}}),t(document).on("scroll",function(){100<t(this).scrollTop()?t(".scroll-to-top").fadeIn():t(".scroll-to-top").fadeOut()}),t(document).on("click","a.scroll-to-top",function(o){var e=t(this);t("html, body").stop().animate({scrollTop:t(e.attr("href")).offset().top},1e3,"easeInOutExpo"),o.preventDefault()})}(jQuery);

    //
    $('.add_images').on('click',function(){
        var content = $(this).parent().parent().next().find('#clone_images').clone();
        content.find('input').val('');
        content.find('span').html('<i class="fa fa-upload"></i> Chọn file');
        $('.group_imgs').append(content);
    })
//
    $(document).on('change','.custom_img input[type="file"]',function () {
        var filename = $(this).val().split('\\').pop();
        $(this).next().html(filename);
    })

//
$('.del_cat').on('submit',function(){
    var myform = this;
    $('.cf_del_cat').dialog({
        title: 'Are you sure to remove this category ?',
        draggable: false,
        resizable: false,
        height: 240,
        width: 500,
        modal: true,
        buttons: {
            "Xóa": function () {
                $(this).dialog("close");
                myform.submit();
            },
            "Hủy": function () {
                $(this).dialog("close");
                return false;
            }
        }
    });
    return false;
})
//
$('.del_pro').on('submit', function(){
    var myform = this;
    $('.cf_del_pro').dialog({
        title: 'Are you sure to remove this product ?',
        draggable: false,
        resizable: false,
        height: 240,
        width: 500,
        modal: true,
        buttons: {
            "Yes": function () {
                $(this).dialog("close");
                myform.submit();
            },
            "No": function () {
                $(this).dialog("close");
                return false;
            }
        }
    });
    return false;
})
//
$('.del_fact').on('submit',function(){
    var myform = this;
    $('.cf_del_fact').dialog({
        title: 'Are you sure to remove this brand ?',
        draggable: false,
        resizable: false,
        height: 240,
        width: 500,
        modal: true,
        buttons: {
            "Xóa": function () {
                $(this).dialog("close");
                myform.submit();
            },
            "Hủy": function () {
                $(this).dialog("close");
                return false;
            }
        }
    });
    return false;
})
//
$('.del_att').on('submit',function(){
    var myform = this;
    $('.cf_del_att').dialog({
        title: 'Are you sure to remove this attribute ?',
        draggable: false,
        resizable: false,
        height: 240,
        width: 500,
        modal: true,
        buttons: {
            "Xóa": function () {
                $(this).dialog("close");
                myform.submit();
            },
            "Hủy": function () {
                $(this).dialog("close");
                return false;
            }
        }
    });
    return false;
})
//
$('.att_action').on('click', function () {
    $(this).parent().prev().find('input').attr('name','del_value[]');
    $(this).parent().next().find('input').attr('name','del_id[]');
    $(this).parent().parent().css('display','none');

})
//
$('.add_product_att').on('click', function () {
   var new_att = $('#product_att_clone').clone();
   new_att.find('input').val('');
   new_att.find('input').attr('name','add_value[]');
   new_att.find('select').attr('name','add_id[]');
   new_att.css('display','table-row');
   $('.att_tbl').prepend(new_att);
})
